

	#include	<p16f877A.inc>	
	
	KACKEZ	EQU 0X20
	
	
	w_temp	EQU 0X7D
	status_temp EQU	0X7E
	pclath_temp EQU	0X7F
 
	ORG 0X00
	NOP
	GOTO	BASLA
	
	ORG 0X04
	MOVWF	w_temp
	MOVF	STATUS,W
	MOVWF	status_temp
	MOVF	PCLATH,W
	MOVWF	pclath_temp
	
	BCF INTCON,2
	
	BANKSEL	TMR0
	MOVLW	D'6'
	MOVWF	TMR0
	
	DECFSZ	KACKEZ,F
	GOTO	CIKIS
	CALL	PROGRAM
CIKIS
	BSF INTCON,7
	MOVF	status_temp,w
	MOVWF	STATUS
	MOVF	pclath_temp,w
	MOVWF	PCLATH
	SWAPF	w_temp,f
	SWAPF	w_temp,w
	retfie
	
PROGRAM
	BTFSS	PORTC,0
	GOTO	YAK
	RETURN
YAK
	MOVLW	0XFF
	MOVWF	PORTC
	GOTO	CIKIS
	
TMR0_AYARLA
	BANKSEL	TMR0
	MOVLW	D'6'
	MOVWF	TMR0
	
	BANKSEL	OPTION_REG
	MOVLW	B'00000011'
	MOVWF	OPTION_REG
	RETURN
KESME_AYARLA
	BANKSEL	INTCON
	BSF INTCON,5
	BSF INTCON,7
	RETURN
	
	
	
	

BASLA
	MOVLW	D'200'
	MOVWF	KACKEZ
	CALL	TMR0_AYARLA
	CALL	KESME_AYARLA
	BANKSEL	TRISC
	CLRF	TRISC
	BANKSEL	PORTC
	CLRF	PORTC
	
YAZ
	GOTO	YAZ
	
	END
